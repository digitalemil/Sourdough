<html>
    <body>
        <h1>Sourdough</h1>
        CockroachDB running in demo mode. Please see the Demo-specific (e.g. node de/re commission) here:
        <a href="https://www.cockroachlabs.com/docs/stable/cockroach-demo">CockroachDB demo docs</a>
        <p></p>
        <br>Environment variables you can provide to the container (with defaults shown):
<pre>
DATABASE=ticketsdb

DATABASE_CONNECTIONSTRING=postgresql://root@127.0.0.1:26257/ticketsdb?sslmode=disable

MAINTABLE=Tickets
SECONDTABLE=Priorities
STARS=Priority

GRAFANAUSER_DB_PASSWORD=cr1401

TITLE=Tickets
WELCOME=Welcome to Tickets @ Exceptional Service Inc.
CODE=rose

COLOR=#282828
BACKGROUNDCOLOR=rgba(0, 88, 144, 0.2)
INPUTCOLOR=#FFFFF0
LOGO=https://storage.googleapis.com/publicstuff/a336ee58-f70d-4474-99ad-3ba40bde959f.jpeg
BACKGROUNDIMAGE=
CREATORFILE=./private/creator.js

PORT=3030

</pre>

<br>
<a href="http://localhost:3030" target="_blank">Application 3030</a> (Users: joe, dude, fleur. Password value of env variable CODE)<br>
(Please wait for: &quot;info: Starting Tickets on port: 3030&quot; in the log output before hitting the link above)<br>
<br><a href="http://localhost:3032" target="_blank">Grafana 3032</a> (User admin. Password admin)<br>
<br><a href="http://localhost:8080" target="_blank">DBConsole</a> Ports 8080-8088<br>
<br>SQL connections on localhost ports 26257-26265<br>

<p><br>
<b>Load generation built-in!</b> Start the test by running the following commands on your host.<br>
Readonly (random over all regions): 
<pre>
    docker exec sourdough k6 run --vus 4 --duration 10m /opt/app/read.js
</pre>
Read &amp; Write (per region depending on USER env variable):
<br>In EMEA:
<pre>
    docker exec sourdough k6 run -e USER=fleur --vus 4 --duration 10m /opt/app/readwrite.js
</pre>
<br>In AMERICAS:
<pre>
    docker exec sourdough k6 run -e USER=joe --vus 4 --duration 10m /opt/app/readwrite.js
</pre>
<br>In APAC:
<pre>
    docker exec sourdough k6 run -e USER=dude --vus 4 --duration 10m /opt/app/readwrite.js
</pre>

<h3>Another example (one which is close to my heart ;-) set of env variables:</h3>
<pre>
DATABASE=breadsdb
    
DATABASE_CONNECTIONSTRING=postgresql://root@127.0.0.1:26257/breadsdb?sslmode=disable
    
MAINTABLE=Breads
SECONDTABLE=Ratings
STARS=Stars
    
GRAFANAUSER_DB_PASSWORD=cr1401
    
TITLE=Breads, breads, breads!
WELCOME=Welcome to Emil's Bakes Sourdough Bread Bakery
CODE=bread
    
COLOR=#C4A484
BACKGROUNDCOLOR=rgba(239, 222, 205, 0.2)
INPUTCOLOR=#5C4033
LOGO=http://storage.googleapis.com/thegym-public/sourdough-logo-small.png
BACKGROUNDIMAGE=http://storage.googleapis.com/thegym-public/leni.png

CREATORFILE=http://storage.googleapis.com/thegym-public/bread.js
 
PORT=3030
</pre>
A creator file needs to create a SVG with item to visualize. It needs export a createSVG() function:
<pre>
exports.createSVG= createSVG;
</pre>
The description of the svg needs to contain a name:
<pre>
    &#060;svg&#062;
    &#060;desc&#062;name="foo"&#060;/desc&#062;
    ...
    &#060;/svg&#062;
</pre>
Best to just check out the provided creator.js in the private folder
</body>
</html>